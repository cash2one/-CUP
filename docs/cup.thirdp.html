<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>cup.thirdp package &mdash; cup 1.2.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="cup 1.2.1 documentation" href="index.html" />
    <link rel="up" title="cup package" href="cup.html" />
    <link rel="next" title="cup.thirdp.MySQLdb package" href="cup.thirdp.MySQLdb.html" />
    <link rel="prev" title="cup.shell package" href="cup.shell.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cup.thirdp.MySQLdb.html" title="cup.thirdp.MySQLdb package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cup.shell.html" title="cup.shell package"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">cup 1.2.1 documentation</a> &raquo;</li>
          <li><a href="cup.html" accesskey="U">cup package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="cup-thirdp-package">
<h1>cup.thirdp package<a class="headerlink" href="#cup-thirdp-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cup.thirdp.MySQLdb.html">cup.thirdp.MySQLdb package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.MySQLdb.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cup.thirdp.MySQLdb.constants.html">cup.thirdp.MySQLdb.constants package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cup.thirdp.MySQLdb.constants.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="cup.thirdp.MySQLdb.constants.html#module-cup.thirdp.MySQLdb.constants.CLIENT">cup.thirdp.MySQLdb.constants.CLIENT module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cup.thirdp.MySQLdb.constants.html#module-cup.thirdp.MySQLdb.constants.CR">cup.thirdp.MySQLdb.constants.CR module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cup.thirdp.MySQLdb.constants.html#module-cup.thirdp.MySQLdb.constants.ER">cup.thirdp.MySQLdb.constants.ER module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cup.thirdp.MySQLdb.constants.html#module-cup.thirdp.MySQLdb.constants.FIELD_TYPE">cup.thirdp.MySQLdb.constants.FIELD_TYPE module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cup.thirdp.MySQLdb.constants.html#module-cup.thirdp.MySQLdb.constants.FLAG">cup.thirdp.MySQLdb.constants.FLAG module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cup.thirdp.MySQLdb.constants.html#module-cup.thirdp.MySQLdb.constants.REFRESH">cup.thirdp.MySQLdb.constants.REFRESH module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cup.thirdp.MySQLdb.constants.html#module-cup.thirdp.MySQLdb.constants">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.MySQLdb.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.MySQLdb.html#module-cup.thirdp.MySQLdb.connections">cup.thirdp.MySQLdb.connections module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.MySQLdb.html#module-cup.thirdp.MySQLdb.converters">cup.thirdp.MySQLdb.converters module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.MySQLdb.html#module-cup.thirdp.MySQLdb.cursors">cup.thirdp.MySQLdb.cursors module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.MySQLdb.html#module-cup.thirdp.MySQLdb.release">cup.thirdp.MySQLdb.release module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.MySQLdb.html#module-cup.thirdp.MySQLdb.times">cup.thirdp.MySQLdb.times module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.MySQLdb.html#module-cup.thirdp.MySQLdb">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cup.thirdp.httplib2.html">cup.thirdp.httplib2 package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.httplib2.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.httplib2.html#module-cup.thirdp.httplib2.iri2uri">cup.thirdp.httplib2.iri2uri module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.httplib2.html#module-cup.thirdp.httplib2.socks">cup.thirdp.httplib2.socks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cup.thirdp.httplib2.html#module-cup.thirdp.httplib2">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cup.thirdp.pexpect">
<span id="cup-thirdp-pexpect-module"></span><h2>cup.thirdp.pexpect module<a class="headerlink" href="#module-cup.thirdp.pexpect" title="Permalink to this headline">¶</a></h2>
<p>Pexpect is a Python module for spawning child applications and controlling
them automatically. Pexpect can be used for automating interactive applications
such as ssh, ftp, passwd, telnet, etc. It can be used to a automate setup
scripts for duplicating software package installations on different servers. It
can be used for automated software testing. Pexpect is in the spirit of Don
Libes&#8217; Expect, but Pexpect is pure Python. Other Expect-like modules for Python
require TCL and Expect or require C extensions to be compiled. Pexpect does not
use C, Expect, or TCL extensions. It should work on any platform that supports
the standard Python pty module. The Pexpect interface focuses on ease of use so
that simple tasks are easy.</p>
<p>There are two main interfaces to Pexpect &#8211; the function, run() and the class,
spawn. You can call the run() function to execute a command and return the
output. This is a handy replacement for os.system().</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pexpect</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s">&#39;ls -la&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The more powerful interface is the spawn class. You can use this to spawn an
external child command and then interact with the child by sending lines and
expecting responses.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">child</span> <span class="o">=</span> <span class="n">pexpect</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="s">&#39;scp foo myname@host.example.com:.&#39;</span><span class="p">)</span>
<span class="n">child</span><span class="o">.</span><span class="n">expect</span> <span class="p">(</span><span class="s">&#39;Password:&#39;</span><span class="p">)</span>
<span class="n">child</span><span class="o">.</span><span class="n">sendline</span> <span class="p">(</span><span class="n">mypassword</span><span class="p">)</span>
</pre></div>
</div>
<p>This works even for commands that ask for passwords or other input outside of
the normal stdio streams.</p>
<p>Credits: Noah Spurrier, Richard Holden, Marco Molteni, Kimberley Burchett,
Robert Stone, Hartmut Goebel, Chad Schroeder, Erick Tryzelaar, Dave Kirby, Ids
vander Molen, George Todd, Noel Taylor, Nicolas D. Cesar, Alexander Gattin,
Geoffrey Marshall, Francisco Lourenco, Glen Mabey, Karthik Gurusamy, Fernando
Perez, Corey Minyard, Jon Cohen, Guillaume Chazarain, Andrew Ryan, Nick
Craig-Wood, Andrew Stone, Jorgen Grahn (Let me know if I forgot anyone.)</p>
<p>Free, open source, and all that good stuff.</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the &#8220;Software&#8221;), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED &#8220;AS IS&#8221;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
<p>Pexpect Copyright (c) 2008 Noah Spurrier
<a class="reference external" href="http://pexpect.sourceforge.net/">http://pexpect.sourceforge.net/</a></p>
<p>$Id: pexpect.py 507 2007-12-27 02:40:52Z noah $</p>
<dl class="exception">
<dt id="cup.thirdp.pexpect.ExceptionPexpect">
<em class="property">exception </em><tt class="descclassname">cup.thirdp.pexpect.</tt><tt class="descname">ExceptionPexpect</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#ExceptionPexpect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.ExceptionPexpect" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Base class for all exceptions raised by this module.</p>
<dl class="method">
<dt id="cup.thirdp.pexpect.ExceptionPexpect.get_trace">
<tt class="descname">get_trace</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#ExceptionPexpect.get_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.ExceptionPexpect.get_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns an abbreviated stack trace with lines that only concern
the caller. In other words, the stack trace inside the Pexpect module
is not included.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="cup.thirdp.pexpect.EOF">
<em class="property">exception </em><tt class="descclassname">cup.thirdp.pexpect.</tt><tt class="descname">EOF</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#EOF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.EOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cup.thirdp.pexpect.ExceptionPexpect" title="cup.thirdp.pexpect.ExceptionPexpect"><tt class="xref py py-class docutils literal"><span class="pre">cup.thirdp.pexpect.ExceptionPexpect</span></tt></a></p>
<p>Raised when EOF is read from a child.
This usually means the child has exited.</p>
</dd></dl>

<dl class="exception">
<dt id="cup.thirdp.pexpect.TIMEOUT">
<em class="property">exception </em><tt class="descclassname">cup.thirdp.pexpect.</tt><tt class="descname">TIMEOUT</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#TIMEOUT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.TIMEOUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cup.thirdp.pexpect.ExceptionPexpect" title="cup.thirdp.pexpect.ExceptionPexpect"><tt class="xref py py-class docutils literal"><span class="pre">cup.thirdp.pexpect.ExceptionPexpect</span></tt></a></p>
<p>Raised when a read time exceeds the timeout.</p>
</dd></dl>

<dl class="class">
<dt id="cup.thirdp.pexpect.spawn">
<em class="property">class </em><tt class="descclassname">cup.thirdp.pexpect.</tt><tt class="descname">spawn</tt><big>(</big><em>command</em>, <em>args=</em><span class="optional">[</span><span class="optional">]</span>, <em>timeout=30</em>, <em>maxread=2000</em>, <em>searchwindowsize=None</em>, <em>logfile=None</em>, <em>cwd=None</em>, <em>env=None</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>This is the main class interface for Pexpect. Use this class to start
and control child applications.</p>
<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.close">
<tt class="descname">close</tt><big>(</big><em>force=True</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.close" title="Permalink to this definition">¶</a></dt>
<dd><p>This closes the connection with the child application. Note that
calling close() more than once is valid. This emulates standard Python
behavior with files. Set force to True if you want to make sure that
the child is terminated (SIGKILL is sent if the child ignores SIGHUP
and SIGINT).</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.compile_pattern_list">
<tt class="descname">compile_pattern_list</tt><big>(</big><em>patterns</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.compile_pattern_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.compile_pattern_list" title="Permalink to this definition">¶</a></dt>
<dd><p>This compiles a pattern-string or a list of pattern-strings.
Patterns must be a StringType, EOF, TIMEOUT, SRE_Pattern, or a list of
those. Patterns may also be None which results in an empty list (you
might do this if waiting for an EOF or TIMEOUT condition without
expecting any pattern).</p>
<p>This is used by expect() when calling expect_list(). Thus expect() is
nothing more than:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cpl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compile_pattern_list</span><span class="p">(</span><span class="n">pl</span><span class="p">)</span>
<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expect_list</span><span class="p">(</span><span class="n">cpl</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
</pre></div>
</div>
<p>If you are using expect() within a loop it may be more
efficient to compile the patterns first and then call expect_list().
This avoid calls in a loop to compile_pattern_list():</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cpl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compile_pattern_list</span><span class="p">(</span><span class="n">my_pattern</span><span class="p">)</span>
<span class="k">while</span> <span class="n">some_condition</span><span class="p">:</span>
   <span class="o">...</span>
   <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expect_list</span><span class="p">(</span><span class="n">clp</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
   <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.eof">
<tt class="descname">eof</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.eof"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.eof" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns True if the EOF exception was ever raised.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.expect">
<tt class="descname">expect</tt><big>(</big><em>pattern</em>, <em>timeout=-1</em>, <em>searchwindowsize=None</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.expect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.expect" title="Permalink to this definition">¶</a></dt>
<dd><p>This seeks through the stream until a pattern is matched. The
pattern is overloaded and may take several types. The pattern can be a
StringType, EOF, a compiled re, or a list of any of those types.
Strings will be compiled to re types. This returns the index into the
pattern list. If the pattern was not a list this returns index 0 on a
successful match. This may raise exceptions for EOF or TIMEOUT. To
avoid the EOF or TIMEOUT exceptions add EOF or TIMEOUT to the pattern
list. That will cause expect to match an EOF or TIMEOUT condition
instead of raising an exception.</p>
<p>If you pass a list of patterns and more than one matches, the first match
in the stream is chosen. If more than one pattern matches at that point,
the leftmost in the pattern list is chosen. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># the input is &#39;foobar&#39;</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;foobar&#39;</span><span class="p">])</span>
<span class="c"># returns 1 (&#39;foo&#39;) even though &#39;foobar&#39; is a &quot;better&quot; match</span>
</pre></div>
</div>
<p>Please note, however, that buffering can affect this behavior, since
input arrives in unpredictable chunks. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># the input is &#39;foobar&#39;</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;foobar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">])</span>
<span class="c"># returns 0 (&#39;foobar&#39;) if all input is available at once,</span>
<span class="c"># but returs 1 (&#39;foo&#39;) if parts of the final &#39;bar&#39; arrive late</span>
</pre></div>
</div>
<p>After a match is found the instance attributes &#8216;before&#8217;, &#8216;after&#8217; and
&#8216;match&#8217; will be set. You can see all the data read before the match in
&#8216;before&#8217;. You can see the data that was matched in &#8216;after&#8217;. The
re.MatchObject used in the re match will be in &#8216;match&#8217;. If an error
occurred then &#8216;before&#8217; will be set to all the data read so far and
&#8216;after&#8217; and &#8216;match&#8217; will be None.</p>
<p>If timeout is -1 then timeout will be set to the self.timeout value.</p>
<p>A list entry may be EOF or TIMEOUT instead of a string. This will
catch these exceptions and return the index of the list entry instead
of raising the exception. The attribute &#8216;after&#8217; will be set to the
exception type. The attribute &#8216;match&#8217; will be None. This allows you to
write code like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">index</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;good&#39;</span><span class="p">,</span> <span class="s">&#39;bad&#39;</span><span class="p">,</span> <span class="n">pexpect</span><span class="o">.</span><span class="n">EOF</span><span class="p">,</span> <span class="n">pexpect</span><span class="o">.</span><span class="n">TIMEOUT</span><span class="p">])</span>
<span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">do_something_else</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="n">do_some_other_thing</span><span class="p">()</span>
<span class="k">elif</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
    <span class="n">do_something_completely_different</span><span class="p">()</span>
</pre></div>
</div>
<p>instead of code like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;good&#39;</span><span class="p">,</span> <span class="s">&#39;bad&#39;</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">do_something</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">do_something_else</span><span class="p">()</span>
<span class="k">except</span> <span class="n">EOF</span><span class="p">:</span>
    <span class="n">do_some_other_thing</span><span class="p">()</span>
<span class="k">except</span> <span class="n">TIMEOUT</span><span class="p">:</span>
    <span class="n">do_something_completely_different</span><span class="p">()</span>
</pre></div>
</div>
<p>These two forms are equivalent. It all depends on what you want. You
can also just expect the EOF if you are waiting for all output of a
child to finish. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">pexpect</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="s">&#39;/bin/ls&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">(</span><span class="n">pexpect</span><span class="o">.</span><span class="n">EOF</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">before</span>
</pre></div>
</div>
<p>If you are trying to optimize for speed then see expect_list().</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.expect_exact">
<tt class="descname">expect_exact</tt><big>(</big><em>pattern_list</em>, <em>timeout=-1</em>, <em>searchwindowsize=-1</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.expect_exact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.expect_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>This is similar to expect(), but uses plain string matching instead
of compiled regular expressions in &#8216;pattern_list&#8217;. The &#8216;pattern_list&#8217;
may be a string; a list or other sequence of strings; or TIMEOUT and
EOF.</p>
<p>This call might be faster than expect() for two reasons: string
searching is faster than RE matching and it is possible to limit the
search to just the end of the input buffer.</p>
<p>This method is also useful when you don&#8217;t want to have to worry about
escaping regular expression characters that you want to match.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.expect_list">
<tt class="descname">expect_list</tt><big>(</big><em>pattern_list</em>, <em>timeout=-1</em>, <em>searchwindowsize=-1</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.expect_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.expect_list" title="Permalink to this definition">¶</a></dt>
<dd><p>This takes a list of compiled regular expressions and returns the
index into the pattern_list that matched the child output. The list may
also contain EOF or TIMEOUT (which are not compiled regular
expressions). This method is similar to the expect() method except that
expect_list() does not recompile the pattern list on every call. This
may help if you are trying to optimize for speed, otherwise just use
the expect() method.  This is called by expect(). If timeout==-1 then
the self.timeout value is used. If searchwindowsize==-1 then the
self.searchwindowsize value is used.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.expect_loop">
<tt class="descname">expect_loop</tt><big>(</big><em>searcher</em>, <em>timeout=-1</em>, <em>searchwindowsize=-1</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.expect_loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.expect_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the common loop used inside expect. The &#8216;searcher&#8217; should be
an instance of searcher_re or searcher_string, which describes how and what
to search for in the input.</p>
<p>See expect() for other arguments, return value and exceptions.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.fileno">
<tt class="descname">fileno</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.fileno"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.fileno" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns the file descriptor of the pty for the child.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.flush">
<tt class="descname">flush</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>This does nothing. It is here to support the interface for a
File-like object.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.getecho">
<tt class="descname">getecho</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.getecho"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.getecho" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns the terminal echo mode. This returns True if echo is
on or False if echo is off. Child applications that are expecting you
to enter a password often set ECHO False. See waitnoecho().</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.getwinsize">
<tt class="descname">getwinsize</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.getwinsize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.getwinsize" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns the terminal window size of the child tty. The return
value is a tuple of (rows, cols).</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.interact">
<tt class="descname">interact</tt><big>(</big><em>escape_character='x1d'</em>, <em>input_filter=None</em>, <em>output_filter=None</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.interact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.interact" title="Permalink to this definition">¶</a></dt>
<dd><p>This gives control of the child process to the interactive user (the
human at the keyboard). Keystrokes are sent to the child process, and
the stdout and stderr output of the child process is printed. This
simply echos the child stdout and child stderr to the real stdout and
it echos the real stdin to the child stdin. When the user types the
escape_character this method will stop. The default for
escape_character is ^]. This should not be confused with ASCII 27 &#8211;
the ESC character. ASCII 29 was chosen for historical merit because
this is the character used by &#8216;telnet&#8217; as the escape character. The
escape_character will not be sent to the child process.</p>
<p>You may pass in optional input and output filter functions. These
functions should take a string and return a string. The output_filter
will be passed all the output from the child process. The input_filter
will be passed all the keyboard input from the user. The input_filter
is run BEFORE the check for the escape_character.</p>
<p>Note that if you change the window size of the parent the SIGWINCH
signal will not be passed through to the child. If you want the child
window size to change when the parent&#8217;s window size changes then do
something like the following example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pexpect</span><span class="o">,</span> <span class="nn">struct</span><span class="o">,</span> <span class="nn">fcntl</span><span class="o">,</span> <span class="nn">termios</span><span class="o">,</span> <span class="nn">signal</span><span class="o">,</span> <span class="nn">sys</span>
<span class="k">def</span> <span class="nf">sigwinch_passthrough</span> <span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s">&quot;HHHH&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s">&#39;hhhh&#39;</span><span class="p">,</span> <span class="n">fcntl</span><span class="o">.</span><span class="n">ioctl</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">fileno</span><span class="p">(),</span> <span class="n">termios</span><span class="o">.</span><span class="n">TIOCGWINSZ</span> <span class="p">,</span> <span class="n">s</span><span class="p">))</span>
    <span class="k">global</span> <span class="n">p</span>
    <span class="n">p</span><span class="o">.</span><span class="n">setwinsize</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">pexpect</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="s">&#39;/bin/bash&#39;</span><span class="p">)</span> <span class="c"># Note this is global and used in sigwinch_passthrough.</span>
<span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGWINCH</span><span class="p">,</span> <span class="n">sigwinch_passthrough</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">interact</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.isalive">
<tt class="descname">isalive</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.isalive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.isalive" title="Permalink to this definition">¶</a></dt>
<dd><p>This tests if the child process is running or not. This is
non-blocking. If the child was terminated then this will read the
exitstatus or signalstatus of the child. This returns True if the child
process appears to be running or False if not. It can take literally
SECONDS for Solaris to return the right status.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.isatty">
<tt class="descname">isatty</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.isatty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.isatty" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns True if the file descriptor is open and connected to a
tty(-like) device, else False.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.kill">
<tt class="descname">kill</tt><big>(</big><em>sig</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.kill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.kill" title="Permalink to this definition">¶</a></dt>
<dd><p>This sends the given signal to the child application. In keeping
with UNIX tradition it has a misleading name. It does not necessarily
kill the child unless you send the right signal.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.next">
<tt class="descname">next</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.next" title="Permalink to this definition">¶</a></dt>
<dd><p>This is to support iterators over a file-like object.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.read">
<tt class="descname">read</tt><big>(</big><em>size=-1</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.read" title="Permalink to this definition">¶</a></dt>
<dd><p>This reads at most &#8220;size&#8221; bytes from the file (less if the read hits
EOF before obtaining size bytes). If the size argument is negative or
omitted, read all data until EOF is reached. The bytes are returned as
a string object. An empty string is returned when EOF is encountered
immediately.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.read_nonblocking">
<tt class="descname">read_nonblocking</tt><big>(</big><em>size=1</em>, <em>timeout=-1</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.read_nonblocking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.read_nonblocking" title="Permalink to this definition">¶</a></dt>
<dd><p>This reads at most size characters from the child application. It
includes a timeout. If the read does not complete within the timeout
period then a TIMEOUT exception is raised. If the end of file is read
then an EOF exception will be raised. If a log file was set using
setlog() then all data will also be written to the log file.</p>
<p>If timeout is None then the read may block indefinitely. If timeout is -1
then the self.timeout value is used. If timeout is 0 then the child is
polled and if there was no data immediately ready then this will raise
a TIMEOUT exception.</p>
<p>The timeout refers only to the amount of time to read at least one
character. This is not effected by the &#8216;size&#8217; parameter, so if you call
read_nonblocking(size=100, timeout=30) and only one character is
available right away then one character will be returned immediately.
It will not wait for 30 seconds for another 99 characters to come in.</p>
<p>This is a wrapper around os.read(). It uses select.select() to
implement the timeout.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.readline">
<tt class="descname">readline</tt><big>(</big><em>size=-1</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.readline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.readline" title="Permalink to this definition">¶</a></dt>
<dd><p>This reads and returns one entire line. A trailing newline is kept
in the string, but may be absent when a file ends with an incomplete
line. Note: This readline() looks for a rn pair even on UNIX
because this is what the pseudo tty device returns. So contrary to what
you may expect you will receive the newline as rn. An empty string
is returned when EOF is hit immediately. Currently, the size argument is
mostly ignored, so this behavior is not standard for a file-like
object. If size is 0 then an empty string is returned.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.readlines">
<tt class="descname">readlines</tt><big>(</big><em>sizehint=-1</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.readlines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.readlines" title="Permalink to this definition">¶</a></dt>
<dd><p>This reads until EOF using readline() and returns a list containing
the lines thus read. The optional &#8220;sizehint&#8221; argument is ignored.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.send">
<tt class="descname">send</tt><big>(</big><em>s</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.send" title="Permalink to this definition">¶</a></dt>
<dd><p>This sends a string to the child process. This returns the number of
bytes written. If a log file was set then the data is also written to
the log.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.sendcontrol">
<tt class="descname">sendcontrol</tt><big>(</big><em>char</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.sendcontrol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.sendcontrol" title="Permalink to this definition">¶</a></dt>
<dd><p>This sends a control character to the child such as Ctrl-C or
Ctrl-D. For example, to send a Ctrl-G (ASCII 7):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">child</span><span class="o">.</span><span class="n">sendcontrol</span><span class="p">(</span><span class="s">&#39;g&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>See also, sendintr() and sendeof().</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.sendeof">
<tt class="descname">sendeof</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.sendeof"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.sendeof" title="Permalink to this definition">¶</a></dt>
<dd><p>This sends an EOF to the child. This sends a character which causes
the pending parent output buffer to be sent to the waiting child
program without waiting for end-of-line. If it is the first character
of the line, the read() in the user program returns 0, which signifies
end-of-file. This means to work as expected a sendeof() has to be
called at the beginning of a line. This method does not send a newline.
It is the responsibility of the caller to ensure the eof is sent at the
beginning of a line.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.sendintr">
<tt class="descname">sendintr</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.sendintr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.sendintr" title="Permalink to this definition">¶</a></dt>
<dd><p>This sends a SIGINT to the child. It does not require
the SIGINT to be the first character on a line.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.sendline">
<tt class="descname">sendline</tt><big>(</big><em>s=''</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.sendline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.sendline" title="Permalink to this definition">¶</a></dt>
<dd><p>This is like send(), but it adds a line feed (os.linesep). This
returns the number of bytes written.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.setecho">
<tt class="descname">setecho</tt><big>(</big><em>state</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.setecho"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.setecho" title="Permalink to this definition">¶</a></dt>
<dd><p>This sets the terminal echo mode on or off. Note that anything the
child sent before the echo will be lost, so you should be sure that
your input buffer is empty before you call setecho(). For example, the
following will work as expected:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">pexpect</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="s">&#39;cat&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">sendline</span> <span class="p">(</span><span class="s">&#39;1234&#39;</span><span class="p">)</span> <span class="c"># We will see this twice (once from tty echo and again from cat).</span>
<span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;1234&#39;</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;1234&#39;</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">setecho</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span> <span class="c"># Turn off tty echo</span>
<span class="n">p</span><span class="o">.</span><span class="n">sendline</span> <span class="p">(</span><span class="s">&#39;abcd&#39;</span><span class="p">)</span> <span class="c"># We will set this only once (echoed by cat).</span>
<span class="n">p</span><span class="o">.</span><span class="n">sendline</span> <span class="p">(</span><span class="s">&#39;wxyz&#39;</span><span class="p">)</span> <span class="c"># We will set this only once (echoed by cat)</span>
<span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;abcd&#39;</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;wxyz&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>The following WILL NOT WORK because the lines sent before the setecho
will be lost:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">pexpect</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="s">&#39;cat&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">sendline</span> <span class="p">(</span><span class="s">&#39;1234&#39;</span><span class="p">)</span> <span class="c"># We will see this twice (once from tty echo and again from cat).</span>
<span class="n">p</span><span class="o">.</span><span class="n">setecho</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span> <span class="c"># Turn off tty echo</span>
<span class="n">p</span><span class="o">.</span><span class="n">sendline</span> <span class="p">(</span><span class="s">&#39;abcd&#39;</span><span class="p">)</span> <span class="c"># We will set this only once (echoed by cat).</span>
<span class="n">p</span><span class="o">.</span><span class="n">sendline</span> <span class="p">(</span><span class="s">&#39;wxyz&#39;</span><span class="p">)</span> <span class="c"># We will set this only once (echoed by cat)</span>
<span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;1234&#39;</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;1234&#39;</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;abcd&#39;</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">expect</span> <span class="p">([</span><span class="s">&#39;wxyz&#39;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.setlog">
<tt class="descname">setlog</tt><big>(</big><em>fileobject</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.setlog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.setlog" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is no longer supported or allowed.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.setmaxread">
<tt class="descname">setmaxread</tt><big>(</big><em>maxread</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.setmaxread"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.setmaxread" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is no longer supported or allowed. I don&#8217;t like getters
and setters without a good reason.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.setwinsize">
<tt class="descname">setwinsize</tt><big>(</big><em>r</em>, <em>c</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.setwinsize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.setwinsize" title="Permalink to this definition">¶</a></dt>
<dd><p>This sets the terminal window size of the child tty. This will cause
a SIGWINCH signal to be sent to the child. This does not change the
physical window size. It changes the size reported to TTY-aware
applications like vi or curses &#8211; applications that respond to the
SIGWINCH signal.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.terminate">
<tt class="descname">terminate</tt><big>(</big><em>force=False</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.terminate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.terminate" title="Permalink to this definition">¶</a></dt>
<dd><p>This forces a child process to terminate. It starts nicely with
SIGHUP and SIGINT. If &#8220;force&#8221; is True then moves onto SIGKILL. This
returns True if the child was terminated. This returns False if the
child could not be terminated.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.wait">
<tt class="descname">wait</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.wait"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>This waits until the child exits. This is a blocking call. This will
not read any data from the child, so this will block forever if the
child has unread output and has terminated. In other words, the child
may have printed output then called exit(); but, technically, the child
is still alive until its output is read.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.waitnoecho">
<tt class="descname">waitnoecho</tt><big>(</big><em>timeout=-1</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.waitnoecho"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.waitnoecho" title="Permalink to this definition">¶</a></dt>
<dd><p>This waits until the terminal ECHO flag is set False. This returns
True if the echo mode is off. This returns False if the ECHO flag was
not set False before the timeout. This can be used to detect when the
child is waiting for a password. Usually a child application will turn
off echo mode when it is waiting for the user to enter a password. For
example, instead of expecting the &#8220;password:&#8221; prompt you can wait for
the child to set ECHO off:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">pexpect</span><span class="o">.</span><span class="n">spawn</span> <span class="p">(</span><span class="s">&#39;ssh user@example.com&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">waitnoecho</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">sendline</span><span class="p">(</span><span class="n">mypassword</span><span class="p">)</span>
</pre></div>
</div>
<p>If timeout is None then this method to block forever until ECHO flag is
False.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.write">
<tt class="descname">write</tt><big>(</big><em>s</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This is similar to send() except that there is no return value.</p>
</dd></dl>

<dl class="method">
<dt id="cup.thirdp.pexpect.spawn.writelines">
<tt class="descname">writelines</tt><big>(</big><em>sequence</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#spawn.writelines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.spawn.writelines" title="Permalink to this definition">¶</a></dt>
<dd><p>This calls write() for each element in the sequence. The sequence
can be any iterable object producing strings, typically a list of
strings. This does not add line separators There is no return value.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="cup.thirdp.pexpect.run">
<tt class="descclassname">cup.thirdp.pexpect.</tt><tt class="descname">run</tt><big>(</big><em>command</em>, <em>timeout=-1</em>, <em>withexitstatus=False</em>, <em>events=None</em>, <em>extra_args=None</em>, <em>logfile=None</em>, <em>cwd=None</em>, <em>env=None</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.run" title="Permalink to this definition">¶</a></dt>
<dd><p>This function runs the given command; waits for it to finish; then
returns all output as a string. STDERR is included in output. If the full
path to the command is not given then the path is searched.</p>
<p>Note that lines are terminated by CR/LF (rn) combination even on
UNIX-like systems because this is the standard for pseudo ttys. If you set
&#8216;withexitstatus&#8217; to true, then run will return a tuple of (command_output,
exitstatus). If &#8216;withexitstatus&#8217; is false then this returns just
command_output.</p>
<p>The run() function can often be used instead of creating a spawn instance.
For example, the following code uses spawn:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pexpect</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">child</span> <span class="o">=</span> <span class="n">spawn</span><span class="p">(</span><span class="s">&#39;scp foo myname@host.example.com:.&#39;</span><span class="p">)</span>
<span class="n">child</span><span class="o">.</span><span class="n">expect</span> <span class="p">(</span><span class="s">&#39;(?i)password&#39;</span><span class="p">)</span>
<span class="n">child</span><span class="o">.</span><span class="n">sendline</span> <span class="p">(</span><span class="n">mypassword</span><span class="p">)</span>
</pre></div>
</div>
<p>The previous code can be replace with the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pexpect</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">run</span> <span class="p">(</span><span class="s">&#39;scp foo myname@host.example.com:.&#39;</span><span class="p">,</span> <span class="n">events</span><span class="o">=</span><span class="p">{</span>
    <span class="s">&#39;(?i)password&#39;</span><span class="p">:</span> <span class="n">mypassword</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Start the apache daemon on the local machine:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pexpect</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">run</span> <span class="p">(</span><span class="s">&quot;/usr/local/apache/bin/apachectl start&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Check in a file using SVN:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pexpect</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">run</span> <span class="p">(</span><span class="s">&quot;svn ci -m &#39;automatic commit&#39; my_file.py&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Run a command and capture exit status:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pexpect</span> <span class="kn">import</span> <span class="o">*</span>
<span class="p">(</span><span class="n">command_output</span><span class="p">,</span> <span class="n">exitstatus</span><span class="p">)</span> <span class="o">=</span> <span class="n">run</span> <span class="p">(</span><span class="s">&#39;ls -l /bin&#39;</span><span class="p">,</span> <span class="n">withexitstatus</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>The following will run SSH and execute &#8216;ls -l&#8217; on the remote machine. The
password &#8216;secret&#8217; will be sent if the &#8216;(?i)password&#8217; pattern is ever seen:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">run</span> <span class="p">(</span><span class="s">&quot;ssh username@machine.example.com &#39;ls -l&#39;&quot;</span><span class="p">,</span> <span class="n">events</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;(?i)password&#39;</span><span class="p">:</span><span class="s">&#39;secret</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p>This will start mencoder to rip a video from DVD. This will also display
progress ticks every 5 seconds as it runs. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pexpect</span> <span class="kn">import</span> <span class="o">*</span>
<span class="k">def</span> <span class="nf">print_ticks</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">d</span><span class="p">[</span><span class="s">&#39;event_count&#39;</span><span class="p">],</span>
<span class="n">run</span><span class="p">(</span>
    <span class="s">&quot;mencoder dvd://1 -o video.avi -oac copy -ovc copy&quot;</span><span class="p">,</span> 
    <span class="n">events</span><span class="o">=</span><span class="p">{</span><span class="n">TIMEOUT</span><span class="p">:</span><span class="n">print_ticks</span><span class="p">},</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The &#8216;events&#8217; argument should be a dictionary of patterns and responses.
Whenever one of the patterns is seen in the command out run() will send the
associated response string. Note that you should put newlines in your
string if Enter is necessary. The responses may also contain callback
functions. Any callback is function that takes a dictionary as an argument.
The dictionary contains all the locals from the run() function, so you can
access the child spawn object or any other variable defined in run()
(event_count, child, and extra_args are the most useful). A callback may
return True to stop the current run process otherwise run() continues until
the next event. A callback may also return a string which will be sent to
the child. &#8216;extra_args&#8217; is not used by directly run(). It provides a way to
pass data to a callback function through run() through the locals
dictionary passed to a callback.</p>
</dd></dl>

<dl class="function">
<dt id="cup.thirdp.pexpect.which">
<tt class="descclassname">cup.thirdp.pexpect.</tt><tt class="descname">which</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#which"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.which" title="Permalink to this definition">¶</a></dt>
<dd><p>This takes a given filename; tries to find it in the environment path;
then checks if it is executable. This returns the full path to the filename
if found and executable. Otherwise this returns None.</p>
</dd></dl>

<dl class="function">
<dt id="cup.thirdp.pexpect.split_command_line">
<tt class="descclassname">cup.thirdp.pexpect.</tt><tt class="descname">split_command_line</tt><big>(</big><em>command_line</em><big>)</big><a class="reference internal" href="_modules/cup/thirdp/pexpect.html#split_command_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cup.thirdp.pexpect.split_command_line" title="Permalink to this definition">¶</a></dt>
<dd><p>This splits a command line into a list of arguments. It splits arguments
on spaces, but handles embedded quotes, doublequotes, and escaped
characters. It&#8217;s impossible to do this with a regular expression, so I
wrote a little state machine to parse the command line.</p>
</dd></dl>

</div>
<div class="section" id="module-cup.thirdp">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cup.thirdp" title="Permalink to this headline">¶</a></h2>
<p>&#64;author Guannan Ma
&#64;brief</p>
<blockquote>
<div>thirdp is short for thirdparty.
thridp package是来自第三方的python库集合。 比如pexpect. mysql</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">cup.thirdp package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-cup.thirdp.pexpect">cup.thirdp.pexpect module</a></li>
<li><a class="reference internal" href="#module-cup.thirdp">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cup.shell.html"
                        title="previous chapter">cup.shell package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cup.thirdp.MySQLdb.html"
                        title="next chapter">cup.thirdp.MySQLdb package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/cup.thirdp.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cup.thirdp.MySQLdb.html" title="cup.thirdp.MySQLdb package"
             >next</a> |</li>
        <li class="right" >
          <a href="cup.shell.html" title="cup.shell package"
             >previous</a> |</li>
        <li><a href="index.html">cup 1.2.1 documentation</a> &raquo;</li>
          <li><a href="cup.html" >cup package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Author.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>